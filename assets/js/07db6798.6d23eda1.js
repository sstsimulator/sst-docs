"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1360],{27586:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>n,metadata:()=>a,toc:()=>c});var i=t(74848),r=t(28453);const n={title:"sst-register"},l=void 0,a={id:"tools/commandLine/sst-register",title:"sst-register",description:"Use the sst-register utility to register element libraries, source code directories, and test directories with SST-Core. These are used by SST to locate libraries and tests.",source:"@site/../docs/tools/commandLine/sst-register.md",sourceDirName:"tools/commandLine",slug:"/tools/commandLine/sst-register",permalink:"/sst-docs/docs/tools/commandLine/sst-register",draft:!1,unlisted:!1,editUrl:"https://github.com/sstsimulator/sst-docs/edit/master/docs/../docs/tools/commandLine/sst-register.md",tags:[],version:"current",lastUpdatedBy:"grvosku",lastUpdatedAt:1727462588e3,frontMatter:{title:"sst-register"},sidebar:"tools",previous:{title:"sst-info",permalink:"/sst-docs/docs/tools/commandLine/sst-info"}},o={},c=[{value:"Register element libraries",id:"register-element-libraries",level:2},{value:"Registering test directories",id:"registering-test-directories",level:2},{value:"Registering source directories",id:"registering-source-directories",level:2},{value:"Example: Registering libExample.so",id:"example-registering-libexampleso",level:2},{value:"Other uses of sst-register",id:"other-uses-of-sst-register",level:2},{value:"Uninstall element libraries.",id:"uninstall-element-libraries",level:3},{value:"List installed libraries",id:"list-installed-libraries",level:3},{value:"Advanced: The sstsimulator.conf file",id:"advanced-the-sstsimulatorconf-file",level:2},{value:"SSTCore",id:"sstcore",level:3},{value:"SST_ELEMENT_LIBRARY",id:"sst_element_library",level:3},{value:"SST_ELEMENT_TESTS",id:"sst_element_tests",level:3},{value:"SST_ELEMENT_SOURCE",id:"sst_element_source",level:3},{value:"Other libraries",id:"other-libraries",level:3}];function d(e){const s={admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.p,{children:["Use the ",(0,i.jsx)(s.code,{children:"sst-register"})," utility to register element libraries, source code directories, and test directories with SST-Core. These are used by SST to locate libraries and tests."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"sst-register <Dependency Name> (<VAR>=<VALUE>)*\n"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Dependency Name"})," Name of dependency to add. For example, the element library name."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"VAR=VALUE"})," Variable/value pair to register to the dependency."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["The most common reason to use ",(0,i.jsx)(s.code,{children:"sst-register"})," is to register a new element library and/or test directory with SST. Naming conventions are critical so that SST can locate the library."]}),"\n",(0,i.jsx)(s.h2,{id:"register-element-libraries",children:"Register element libraries"}),"\n",(0,i.jsxs)(s.p,{children:["Register an element library with SST-Core by providing the path to the library as follows.\n",(0,i.jsx)(s.code,{children:"libname"})," is the name of the library (i.e., ",(0,i.jsx)(s.code,{children:"lib<libname>.so"}),")."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"$ sst-register <libname> <libname>_LIBDIR=/path/to/library\n"})}),"\n",(0,i.jsxs)(s.p,{children:["For example, for an element library named ",(0,i.jsx)(s.code,{children:"libsimpleExternalElement.so"}),", the library would be registered:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"$ sst-register simpleExternalElement simpleExternalElement_LIBDIR=$(CURDIR)\n"})}),"\n",(0,i.jsx)(s.h2,{id:"registering-test-directories",children:"Registering test directories"}),"\n",(0,i.jsxs)(s.p,{children:["Register the location of SST test suites with SST-Core as follows. Again, ",(0,i.jsx)(s.code,{children:"libname"})," should be replaced with the name of the library, as in ",(0,i.jsx)(s.code,{children:"lib<libname>.so"}),". The ",(0,i.jsx)(s.code,{children:"Dependency Name"})," argument ",(0,i.jsx)(s.em,{children:"must"})," be ",(0,i.jsx)(s.code,{children:"SST_ELEMENT_TESTS"}),"."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"$ sst-register SST_ELEMENT_TESTS <libname>=/path/to/tests/for/library\n"})}),"\n",(0,i.jsx)(s.p,{children:"For example:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"$ sst-register SST_ELEMENT_TESTS simpleExternalElement=$(SRCDIR)/tests\n"})}),"\n",(0,i.jsx)(s.h2,{id:"registering-source-directories",children:"Registering source directories"}),"\n",(0,i.jsx)(s.p,{children:"Register the location of SST element source code as follows. These paths are not currently used by SST tools but they are registered by convention in anticipation of using the paths in the future. Tool developers may use this information if needed."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"$ sst-register SST_ELEMENT_SOURCE <libname>=/path/to/tests/for/library\n"})}),"\n",(0,i.jsx)(s.h2,{id:"example-registering-libexampleso",children:"Example: Registering libExample.so"}),"\n",(0,i.jsxs)(s.p,{children:["In this example we will register a new library along with its tests and source code. Registration is case-sensitive so that ",(0,i.jsx)(s.code,{children:"libexample.so"}),' would use the libname "example" while ',(0,i.jsx)(s.code,{children:"libExample.so"}),' uses the libname "Example".']}),"\n",(0,i.jsx)(s.p,{children:"Assume:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Library is named ",(0,i.jsx)(s.code,{children:"libExample.so"})," and is located at ",(0,i.jsx)(s.code,{children:"/home/usr1/install/libExample.so"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["The source code for the library is at ",(0,i.jsx)(s.code,{children:"/home/usr1/source/example/src"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["The tests for the library are at ",(0,i.jsx)(s.code,{children:"/home/usr1/source/example/tests/"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sh",metastring:'title="Steps to register libExample.so"',children:"$ sst-register Example Example_LIBDR=/home/usr1/install/libExample.so\n$ sst-register SST_ELEMENT_TESTS=/home/usr1/source/example/tests\n$ sst-register SST_ELEMENT_SOURCE=/home/usr1/source/example/src\n"})}),"\n",(0,i.jsx)(s.h2,{id:"other-uses-of-sst-register",children:"Other uses of sst-register"}),"\n",(0,i.jsx)(s.h3,{id:"uninstall-element-libraries",children:"Uninstall element libraries."}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"sst-register -u <libname>"})," can be used to uninstall an element library as follows. This does ",(0,i.jsx)(s.em,{children:"not"})," remove the paths from from ",(0,i.jsx)(s.code,{children:"SST_ELEMENT_TESTS"})," or ",(0,i.jsx)(s.code,{children:"SST_ELEMENT_SOURCE"}),". ",(0,i.jsx)(s.code,{children:"sst-register -m"})," will alternately enter an interactive unregister mode where the installed libraries will be listed followed by a prompt to provide the libraries to delete. Finally, providing the ",(0,i.jsx)(s.code,{children:"-au"})," option causes any invalid libraries to be removed. Invalid libraries are those that have invalid paths."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sh",metastring:'title="Uninstall an element library"',children:"$ sst-register -u <libname> # Unregister libname\n$ sst-register -m           # Interactive unregister\n$ sst-register -au          # Unregister invalid libraries\n"})}),"\n",(0,i.jsx)(s.h3,{id:"list-installed-libraries",children:"List installed libraries"}),"\n",(0,i.jsxs)(s.p,{children:["This will list the element libraries installed as well as ",(0,i.jsx)(s.code,{children:"SST_ELEMENT_SOURCE"})," and ",(0,i.jsx)(s.code,{children:"SST_ELEMENT_TESTS"}),' if any element libraries have registered source or test directories. If any path registered to a library does not exist, the library will be reported as "INVALID".']}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sh",metastring:'title="List libraries"',children:"$ sst-register -l\n\nA model labeled INVALID means it is registered in\nSST, but no longer exists in the specified path.\n\nList of registered models:\n1. SST_ELEMENT_LIBRARY      VALID\n2. SST_ELEMENT_SOURCE       VALID\n3. SST_ELEMENT_TESTS        VALID\n4. rtlcomponent             VALID\n"})}),"\n",(0,i.jsx)(s.h2,{id:"advanced-the-sstsimulatorconf-file",children:"Advanced: The sstsimulator.conf file"}),"\n",(0,i.jsx)(s.admonition,{type:"danger",children:(0,i.jsxs)(s.p,{children:["Directly modifying ",(0,i.jsx)(s.code,{children:"sstsimulator.conf"})," can corrupt SST's search paths and cause failures. Further, the file is overwritten when SST is reinstalled. Use ",(0,i.jsx)(s.code,{children:"sst-register"})," instead."]})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"sst-register"})," manipulates a file called ",(0,i.jsx)(s.code,{children:"sstsimulator.conf"}),". The file is automatically generated during SST's installation.\nThis file is used by SST itself, as well as SST testing and command-line tools like ",(0,i.jsx)(s.code,{children:"sst-info"})," and ",(0,i.jsx)(s.code,{children:"sst-config"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:['The file looks like this; we have removed some VAR=VALUE pairs for brevity (represented by "..."). Each section corresponds to the "Dependency Name" given to ',(0,i.jsx)(s.code,{children:"sst-register"})," and any VAR=VALUE pairs provided to ",(0,i.jsx)(s.code,{children:"sst-register"})," are appended to the section."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sh",children:"[SSTCore]\nMPICXX=mpic++\nMPICC=mpicc\n...\nprefix=/home/usr1/install/sst-core/\nprefix_exec=/home/usr1/install/sst-core/\nbindir=/home/usr1/install/sst-core/bin\n...\n\n[SST_ELEMENT_LIBRARY]\nSST_ELEMENT_LIBRARY_BINDIR=/home/usr1/install/sst-elements/bin\nSST_ELEMENT_LIBRARY_BUILDDIR=/home/usr1/sst-elements\nSST_ELEMENT_LIBRARY_HOME=/home/usr1/install/sst-elements\nSST_ELEMENT_LIBRARY_LIBDIR=/home/usr1/install/sst-elements/lib/sst-elements-library\nSST_ELEMENT_LIBRARY_SOURCE_ROOT=/home/usr1/sst-elements\n\n[SST_ELEMENT_TESTS]\nMessier=/home/usr1/sst-elements/src/sst/elements/messier/tests\nOpal=/home/usr1/sst-elements/src/sst/elements/opal/tests\nSamba=/home/usr1/sst-elements/src/sst/elements/samba/tests\nariel=/home/usr1/sst-elements/src/sst/elements/ariel/tests\n...\nsimpleExternalElement=/home/usr1/sst-external-element/src/../tests\n\n[SST_ELEMENT_SOURCE]\nMessier=/home/usr1/sst-elements/src/sst/elements/messier\nOpal=/home/usr1/sst-elements/src/sst/elements/opal\nSamba=/home/usr1/sst-elements/src/sst/elements/samba\nariel=/home/usr1/sst-elements/src/sst/elements/ariel\n...\nsimpleExternalElement=/home/usr1/sst-external-element/src/../tests\n\n[simpleExternalElement]\nsimpleExternalElement_LIBDIR=/home/usr1/sst-external-element/src\n"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Naming conventions are critical in this file."})," The ",(0,i.jsx)(s.code,{children:"sst-register"}),' tool is registering the VAR=VALUE pair(s) to the section named "Dependency name" and will create a new section if needed. The following sections are typically found in the file.']}),"\n",(0,i.jsx)(s.h3,{id:"sstcore",children:"SSTCore"}),"\n",(0,i.jsxs)(s.p,{children:["This contains the install and source locations for SST-Core, as well as build and compilation information. The ",(0,i.jsx)(s.code,{children:"sst-config"})," tool looks in this section to provide build information."]}),"\n",(0,i.jsx)(s.h3,{id:"sst_element_library",children:"SST_ELEMENT_LIBRARY"}),"\n",(0,i.jsxs)(s.p,{children:["This section contains paths for the libraries included in the SST-Elements repository. In particular, the library search path is ",(0,i.jsx)(s.code,{children:"SST_ELEMENT_LIBRARY_LIBDIR"}),". The SST-Elements install populates this section."]}),"\n",(0,i.jsx)(s.h3,{id:"sst_element_tests",children:"SST_ELEMENT_TESTS"}),"\n",(0,i.jsxs)(s.p,{children:["The SST test utility ",(0,i.jsx)(s.code,{children:"sst-test-elements"})," uses the VAR=VALUE pairs in this section to locate test suites to run."]}),"\n",(0,i.jsx)(s.h3,{id:"sst_element_source",children:"SST_ELEMENT_SOURCE"}),"\n",(0,i.jsx)(s.p,{children:"This section contains the path to the root directory of each registered element library's source code."}),"\n",(0,i.jsx)(s.h3,{id:"other-libraries",children:"Other libraries"}),"\n",(0,i.jsxs)(s.p,{children:["Other sections are named for libraries. SST searches these sections for a ",(0,i.jsx)(s.code,{children:"libname_LIBDIR"})," path when locating libraries.\nFollowing the example above, registering the ",(0,i.jsx)(s.code,{children:"libExample.so"})," library makes the following modifications to ",(0,i.jsx)(s.code,{children:"sstsimulator.conf"}),"."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sh",metastring:'title="Registering libExample.so"',children:"$ sst-register Example Example_LIBDR=/home/usr1/install/libExample.so\n$ sst-register SST_ELEMENT_TESTS=/home/usr1/source/example/tests\n$ sst-register SST_ELEMENT_SOURCE=/home/usr1/source/example/src\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sh",metastring:'title="sstsimulator.conf modifications after libExample.so is registered"',children:"[Example]\nExample_LIBDIR=/home/usr1/install/libExample.so\n\n[SST_ELEMENT_TESTS]\nExample=/home/usr1/source/example/tests\n\n[SST_ELEMENT_SOURCE]\nExample=/home/usr1/source/example/src\n"})})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>l,x:()=>a});var i=t(96540);const r={},n=i.createContext(r);function l(e){const s=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(n.Provider,{value:s},e.children)}}}]);