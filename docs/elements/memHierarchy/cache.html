<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-elements/memHierarchy/cache" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Caches | The Structural Simulation Toolkit</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://sstsimulator.github.io/sst-docs/img/sst-logo-small.png"><meta data-rh="true" name="twitter:image" content="https://sstsimulator.github.io/sst-docs/img/sst-logo-small.png"><meta data-rh="true" property="og:url" content="https://sstsimulator.github.io/sst-docs/docs/elements/memHierarchy/cache"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Caches | The Structural Simulation Toolkit"><meta data-rh="true" name="description" content="All MemHierarchy caches, regardless of level or type (shared, private, inclusive, noninclusive, etc.) use the same component, memHierarchy.Cache which is implemented in the SST::CacheController class. This picture shows the component structure. The light blue boxes show the available subcomponent slots. The cache has two ports, lowlink and highlink which may be used when connecting to another memHierarchy component or subcomponent (e.g., standardInterface, Cache, DirectoryController, etc.). There are also two subcomponent slots highlink and lowlink which must be used when connecting to a network-type component or subcomponent."><meta data-rh="true" property="og:description" content="All MemHierarchy caches, regardless of level or type (shared, private, inclusive, noninclusive, etc.) use the same component, memHierarchy.Cache which is implemented in the SST::CacheController class. This picture shows the component structure. The light blue boxes show the available subcomponent slots. The cache has two ports, lowlink and highlink which may be used when connecting to another memHierarchy component or subcomponent (e.g., standardInterface, Cache, DirectoryController, etc.). There are also two subcomponent slots highlink and lowlink which must be used when connecting to a network-type component or subcomponent."><link data-rh="true" rel="icon" href="/sst-docs/img/sst-logo-small.png"><link data-rh="true" rel="canonical" href="https://sstsimulator.github.io/sst-docs/docs/elements/memHierarchy/cache"><link data-rh="true" rel="alternate" href="https://sstsimulator.github.io/sst-docs/docs/elements/memHierarchy/cache" hreflang="en"><link data-rh="true" rel="alternate" href="https://sstsimulator.github.io/sst-docs/docs/elements/memHierarchy/cache" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://B6IFEXV9WE-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/sst-docs/blog/rss.xml" title="The Structural Simulation Toolkit RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/sst-docs/blog/atom.xml" title="The Structural Simulation Toolkit Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="The Structural Simulation Toolkit" href="/sst-docs/opensearch.xml">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/sst-docs/assets/css/styles.9e1dfcc3.css">
<script src="/sst-docs/assets/js/runtime~main.f41e841c.js" defer="defer"></script>
<script src="/sst-docs/assets/js/main.e8ee8a01.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/sst-docs/"><div class="navbar__logo"><img src="/sst-docs/img/sst-logo-small.png" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/sst-docs/img/sst-logo-small.png" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">The Structural Simulation Toolkit</b></a><a href="https://sstsimulator.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Main<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" sidebarid="guides" href="/sst-docs/docs/guides/runningSST">Guides</a><a class="navbar__item navbar__link" sidebarid="core" href="/sst-docs/docs/core/component/introduction">SST-Core API</a><a class="navbar__item navbar__link" sidebarid="config" href="/sst-docs/docs/config">Configuration</a><a class="navbar__item navbar__link" sidebarid="elements" href="/sst-docs/docs/elements/intro">Elements</a><a class="navbar__item navbar__link" sidebarid="tools" href="/sst-docs/docs/tools/commandLine/sst-info">Tools</a><a class="navbar__item navbar__link" sidebarid="community" href="/sst-docs/docs/community">Community</a><a class="navbar__item navbar__link" href="/sst-docs/help">Help</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/intro">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/ariel/intro">ariel</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/sst-docs/docs/elements/balar/intro">balar</a><button aria-label="Expand sidebar category &#x27;balar&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/cacheTracer/intro">cacheTracer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/cassini/intro">cassini</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/cramsim/intro">cramSim</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/sst-docs/docs/elements/ember/intro">ember</a><button aria-label="Expand sidebar category &#x27;ember&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/firefly/intro">firefly</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/gensa/intro">gensa</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/hermes/intro">hermes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/iris/intro">iris</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/juno/intro">juno</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/kingsley/intro">kingsley</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/llyr/intro">llyr</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/macro/intro">macro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/maskmpi/intro">mask-mpi</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/sst-docs/docs/elements/memHierarchy/intro">memHierarchy</a><button aria-label="Collapse sidebar category &#x27;memHierarchy&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sst-docs/docs/elements/memHierarchy/stdmem">StandardMem Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/sst-docs/docs/elements/memHierarchy/cache">Caches</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/mercury/intro">mercury</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/merlin/intro">merlin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/messier/intro">messier</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/miranda/intro">miranda</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/mmu/intro">mmu</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/opal/intro">opal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/osseous/intro">osseous</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/prospero/intro">prospero</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/rdmaNic/intro">rdmaNic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/samba/intro">samba</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/serrano/intro">serrano</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/shogun/intro">shogun</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/simpleElementExample/intro">simpleElementExample</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/simpleExternalElement/intro">simpleExternalElement</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/simpleSimulation/intro">simpleSimulation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/thornhill/intro">thornhill</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/vanadis/intro">vanadis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/vaultsim/intro">vaultsim</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sst-docs/docs/elements/zodiac/intro">zodiac</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/sst-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/sst-docs/docs/elements/memHierarchy/intro"><span itemprop="name">memHierarchy</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Caches</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Caches</h1></header><p>All MemHierarchy caches, regardless of level or type (shared, private, inclusive, noninclusive, etc.) use the same component, <code>memHierarchy.Cache</code> which is implemented in the <code>SST::MemHierarchy::CacheController</code> class. This picture shows the component structure. The light blue boxes show the available subcomponent slots. The cache has two ports, <code>lowlink</code> and <code>highlink</code> which may be used when connecting to another memHierarchy component or subcomponent (e.g., standardInterface, Cache, DirectoryController, etc.). There are also two subcomponent slots <code>highlink</code> and <code>lowlink</code> which must be used when connecting to a network-type component or subcomponent.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Deprecation</div><div class="admonitionContent_BuS1"><p>MemHierarchy caches previously had several ports as well as a cpulink and memlink subcomponent slot for connecting to other components. In the interest of standardization, names have been changed. It is also now possible to use the <code>highlink</code> port and the <code>lowlink</code> subcomponent or vice versa. Previously, caches had to use both ports or both subcomponent slots.</p><table><thead><tr><th>Type</th><th>Deprecated name</th><th>New name/method</th><th>Description</th></tr></thead><tbody><tr><td>Port</td><td>high_network_0</td><td>highlink</td><td>Port to another memHierarchy component on the upper (towards processor) side of the cache.</td></tr><tr><td>Port</td><td>low_network_0</td><td>lowlink</td><td>Port to another memHierarchy component on the lower (towards memory) side of the cache.</td></tr><tr><td>Port</td><td>cache</td><td>load memHierarchy.MemNIC or memHierarchy.MemNICFour into the <code>highlink</code> subcomponent slot</td><td>Port to a network component on the upper (towards processor) side of the cache.</td></tr><tr><td>Port</td><td>cache_ack</td><td>load memHierarchy.MemNICFour into the <code>highlink</code> subcomponent slot</td><td>Port to a network component on the upper (towards processor) side of the cache.</td></tr><tr><td>Port</td><td>cache_fwd</td><td>load memHierarchy.MemNICFour into the <code>highlink</code> subcomponent slot</td><td>Port to a network component on the upper (towards processor) side of the cache.</td></tr><tr><td>Port</td><td>cache_data</td><td>load memHierarchy.MemNICFour into the <code>highlink</code> subcomponent slot</td><td>Port to a network component on the upper (towards processor) side of the cache.</td></tr><tr><td>Port</td><td>directory</td><td>load memHierarchy.memNIC or memHierarchy.MemNICFour into the <code>lowlink</code> subcomponent slot</td><td>Port to a network component on the lower (towards memory) side of the cache.</td></tr><tr><td>Port</td><td>directory_ack</td><td>load memHierarchy.MemNICFour into the <code>lowlink</code> subcomponent slot</td><td>Port to a network component on the lower (towards memory) side of the cache.</td></tr><tr><td>Port</td><td>directory_fwd</td><td>load memHierarchy.MemNICFour into the <code>lowlink</code> subcomponent slot</td><td>Port to a network component on the lower (towards memory) side of the cache.</td></tr><tr><td>Port</td><td>directory_data</td><td>load memHierarchy.MemNICFour into the <code>lowlink</code> subcomponent slot</td><td>Port to a network component on the lower (towards memory) side of the cache.</td></tr><tr><td>SubComponent Slot</td><td>cpulink</td><td>highlink</td><td>Port manager on the upper (towards processor) side of the cache.</td></tr><tr><td>SubComponent Slot</td><td>memlink</td><td>lowlink</td><td>Port manager on the lower (towards memory) side of the cache.</td></tr></tbody></table></div></div>
<p><img decoding="async" loading="lazy" alt="Cache subcomponent slots" src="/sst-docs/assets/images/cache_subcomps-cfa52973efafc3a9cb847133ff64222e.png" width="2420" height="1480" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="coherence">coherence<a href="#coherence" class="hash-link" aria-label="Direct link to coherence" title="Direct link to coherence">​</a></h2>
<p>This subcomponent handles incoming events and sends outgoing ones according to the configured coherence protocol (or lack thereof). The cache component decides which coherence subcomponent to load depending on the parameters <code>L1</code>, <code>coherence_protocol</code>, and <code>cache_type</code>. Users should not explicitly load a subcomponent into this slot in the SST input file. The table below shows different combinations of parameters and which subcomponent gets loaded. Any combination of parameters not listed (for example, <code>L1=true</code>, <code>coherence_protocol=&quot;mesi&quot;</code> and <code>cache_type=&quot;noninclusive&quot;</code>) is an invalid combination.</p>
<table><thead><tr><th><code>L1</code></th><th><code>coherence_protocol</code></th><th><code>cache_type</code></th><th>SubComponent</th></tr></thead><tbody><tr><td>true</td><td>mesi, msi</td><td>inclusive</td><td><code>coherence.mesi_l1</code></td></tr><tr><td>true</td><td>none</td><td>inclusive</td><td><code>coherence.incoherent_l1</code></td></tr><tr><td>false</td><td>mesi, msi</td><td>inclusive</td><td><code>coherence.mesi_inclusive</code></td></tr><tr><td>false</td><td>mesi, msi</td><td>noninclusive</td><td><code>coherence.mesi_private_noninclusive</code></td></tr><tr><td>false</td><td>mesi, msi</td><td>noninclusive_with_directory</td><td><code>coherence.mesi_shared_noninclusive</code></td></tr><tr><td>false</td><td>none</td><td>noninclusive</td><td><code>coherence.incoherent</code></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="replacement">replacement<a href="#replacement" class="hash-link" aria-label="Direct link to replacement" title="Direct link to replacement">​</a></h2>
<p>This subcomponent implements the cache replacement policy. It can be loaded by the user in the input file (e.g., <code>setSubComponent(&quot;replacement&quot;, &quot;replacement.mru&quot;)</code>), otherwise it will be inferred from the <code>replacement_policy</code> cache parameter. A number of policies are included in memHierarchy but custom ones from other libraries can also be used by loading them in the input file. If the cache coherence configuration uses multiple cache arrays (e.g., a non-inclusive cache and directory), multiple replacement policies can be loaded in the slot.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="replacementlru">replacement.lru<a href="#replacementlru" class="hash-link" aria-label="Direct link to replacement.lru" title="Direct link to replacement.lru">​</a></h3>
<p>LRU is a <strong>l</strong>east-<strong>r</strong>ecently-<strong>u</strong>sed policy. The timestamp of the most recent access to each line in a cache set is tracked and the line with the oldest timestamp is replaced.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="replacementlru-opt">replacement.lru-opt<a href="#replacementlru-opt" class="hash-link" aria-label="Direct link to replacement.lru-opt" title="Direct link to replacement.lru-opt">​</a></h3>
<p>LRU-opt is similar to LRU (<code>replacement.lru</code>) but is optimized to reduce coherence traffic in shared inclusive caches. If a line is unshared or unowned, it is preferred for replacement regardless of the LRU timestamp. Two lines with similar shared/owned status will use the LRU timestamp to determine the victim line.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="replacementlfu">replacement.lfu<a href="#replacementlfu" class="hash-link" aria-label="Direct link to replacement.lfu" title="Direct link to replacement.lfu">​</a></h3>
<p>This policy implements a <strong>l</strong>east-<strong>f</strong>requently-<strong>u</strong>sed algorithm to replace blocks. Each access <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span> updates block <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">A</span></span></span></span>&#x27;s replacement weight (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><msub><mi>t</mi><mrow><mi>A</mi><mo separator="true">,</mo><mi>x</mi></mrow></msub></mrow><annotation encoding="application/x-tex">weight_{A,x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em"></span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">h</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span>) as follows. <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">weight</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span></span></span></span> increments by 1000 each time a line in a set is accessed. The increment creates space between different lines&#x27; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><msub><mi>t</mi><mrow><mi>A</mi><mo separator="true">,</mo><mi>x</mi></mrow></msub></mrow><annotation encoding="application/x-tex">weight_{A,x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em"></span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">h</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span> values.</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>w</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><msub><mi>t</mi><mrow><mi>A</mi><mo separator="true">,</mo><mi>x</mi></mrow></msub><mo>=</mo><mo stretchy="false">(</mo><mi>a</mi><mi>c</mi><mi>c</mi><mi>e</mi><mi>s</mi><mi>s</mi><mi>e</mi><msub><mi>s</mi><mrow><mi>A</mi><mo separator="true">,</mo><mi>x</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>∗</mo><mi>w</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><msub><mi>t</mi><mrow><mi>A</mi><mo separator="true">,</mo><mi>x</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mi>w</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mi>a</mi><mi>c</mi><mi>c</mi><mi>e</mi><mi>s</mi><mi>s</mi><mi>e</mi><msub><mi>s</mi><mrow><mi>A</mi><mo separator="true">,</mo><mi>x</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">weight_{A,x} = (accesses_{A,x-1}*weight_{A,x-1} + weight)/(accesses_{A,x-1} + 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em"></span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">h</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord mathnormal">ccesse</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">x</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em"></span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">h</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">x</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord">/</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord mathnormal">ccesse</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">x</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>a</mi><mi>c</mi><mi>c</mi><mi>e</mi><mi>s</mi><mi>s</mi><mi>e</mi><msub><mi>s</mi><mrow><mi>A</mi><mo separator="true">,</mo><mi>x</mi></mrow></msub><mo>=</mo><mi>a</mi><mi>c</mi><mi>c</mi><mi>e</mi><mi>s</mi><mi>s</mi><mi>e</mi><msub><mi>s</mi><mrow><mi>A</mi><mo separator="true">,</mo><mi>x</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">accesses_{A,x} = accesses_{A,x-1} + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">ccesse</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8694em;vertical-align:-0.2861em"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">ccesse</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">x</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span></span>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>w</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo>=</mo><mi>w</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo>+</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">weight = weight + 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1000</span></span></span></span></span>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="replacementlfu-opt">replacement.lfu-opt<a href="#replacementlfu-opt" class="hash-link" aria-label="Direct link to replacement.lfu-opt" title="Direct link to replacement.lfu-opt">​</a></h3>
<p>This policy is similar to <code>replacement.lfu</code> but is optimized to reduce coherence traffic in shared inclusive caches. To that end, the policy will prefer to evict a block that is unowned and unshared, but, given two blocks with similar sharing/owned status, will fall back to using the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><msub><mi>t</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">weight_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">h</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> as defined above to determine the victim line.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="replacementmru">replacement.mru<a href="#replacementmru" class="hash-link" aria-label="Direct link to replacement.mru" title="Direct link to replacement.mru">​</a></h3>
<p>This policy implements a <strong>m</strong>ost-<strong>r</strong>ecently-<strong>u</strong>sed algorithm to determine which line in a set should be replaced. The timestamp of the most recent access to each line is compared and the most-recently accessed line is replaced.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="replacementmru-opt">replacement.mru-opt<a href="#replacementmru-opt" class="hash-link" aria-label="Direct link to replacement.mru-opt" title="Direct link to replacement.mru-opt">​</a></h3>
<p>This policy is similar to <code>replacement.mru</code> but is optimized to reduce coherence traffic in shared inclusive caches. To that end, the policy will prefer to evict a block that is unowned and unshared, but, given two blocks with similar sharing/owned status, will fall back to using the most-recently-used timestamps to determine the victim line.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="replacementrandom">replacement.random<a href="#replacementrandom" class="hash-link" aria-label="Direct link to replacement.random" title="Direct link to replacement.random">​</a></h3>
<p>The random replacement policy randomly selects one of the blocks in the cache set to replace. It uses SST&#x27;s <a href="/sst-docs/docs/core/rng/marsaglia">Marsaglia generator</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="replacementnmru">replacement.nmru<a href="#replacementnmru" class="hash-link" aria-label="Direct link to replacement.nmru" title="Direct link to replacement.nmru">​</a></h3>
<p>This is a <strong>n</strong>ot-<strong>m</strong>ost-<strong>r</strong>ecently-<strong>u</strong>sed policy. Only the most recently used line in each set is tracked. A victim is randomly selected from the remaining lines. NMRU uses the <a href="/sst-docs/docs/core/rng/marsaglia">Marsaglia random number generator</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hash">hash<a href="#hash" class="hash-link" aria-label="Direct link to hash" title="Direct link to hash">​</a></h2>
<p>The hash slot loads a function that is used to map physical addresses to lines in the cache array. The subcomponent can be set in the input file or can be controlled using the cache&#x27;s <code>hash</code> parameter. The only way to pass parameters to the hash subcomponent is to load the subcomponent in the SST input file and add parameters to it. By default, the cache loads a pass-through subcomponent that does not hash addresses.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hashnone">hash.none<a href="#hashnone" class="hash-link" aria-label="Direct link to hash.none" title="Direct link to hash.none">​</a></h3>
<p>This subcomponent does not do any manipulation of the address passed to it. It is the default function used in the cache if none is specified.</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>a</mi><mi>d</mi><mi>d</mi><msub><mi>r</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub><mo>=</mo><mi>a</mi><mi>d</mi><mi>d</mi><msub><mi>r</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">addr_{out} = addr_{in}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">dd</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">dd</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hashlinear">hash.linear<a href="#hashlinear" class="hash-link" aria-label="Direct link to hash.linear" title="Direct link to hash.linear">​</a></h3>
<p>This function does a linear hash of the address as shown.</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>a</mi><mi>d</mi><mi>d</mi><msub><mi>r</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub><mo>=</mo><mn>1103515245</mn><mo>∗</mo><mi>a</mi><mi>d</mi><mi>d</mi><msub><mi>r</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub><mo>+</mo><mn>12345</mn></mrow><annotation encoding="application/x-tex">addr_{out} = 1103515245*addr_{in} + 12345</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">dd</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1103515245</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">dd</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">12345</span></span></span></span></span>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hashxor">hash.xor<a href="#hashxor" class="hash-link" aria-label="Direct link to hash.xor" title="Direct link to hash.xor">​</a></h3>
<p>This function does a simple XOR hash, XOR&#x27;ing each byte, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">b_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> in the input address with the next byte <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">b_{i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span></span></span></span>, to obtain an output.</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>b</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi><mo separator="true">,</mo><mi>i</mi></mrow></msub><mo>=</mo><msub><mi>b</mi><mrow><mi>i</mi><mi>n</mi><mo separator="true">,</mo><mi>i</mi></mrow></msub><mo>⊕</mo><msub><mi>b</mi><mrow><mi>i</mi><mi>n</mi><mo separator="true">,</mo><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">b_{out,i} = b_{in,i} \oplus b_{in,i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prefetcher">prefetcher<a href="#prefetcher" class="hash-link" aria-label="Direct link to prefetcher" title="Direct link to prefetcher">​</a></h2>
<p>Loading a prefetcher is optional. When loaded, the cache will notify the prefetcher of every cache access and its result (hit or miss). The prefetch subcomponent can then send prefetch requests to the cache. Prefetcher subcomponents are implemented using the <code>MemHierarchy::CacheListener</code> interface. Currently, all SST-provided prefetchers reside in the <code>cassini</code> library.</p>
<p>The cache has three parameters related to prefetch performance. The first, <code>prefetch_delay_cycles</code>, causes each prefetch sent by the prefetcher subcomponent to be delayed by some number of cycles before being handled. This compensates for prefetchers that do not implement their own timing and can issue prefetches in the same cycle that they receive notification of a cache access. The second and third parameters, <code>max_outstanding_prefetch</code> and <code>drop_prefetch_mshr_level</code>, allow the cache to throttle the amount of traffic generated by a prefetcher. <code>max_outstanding_prefetch</code> limits the total number of prefetch misses allowed at one time. <code>drop_prefetch_mshr_level</code> allows the cache to drop a prefetch if handling it would cause the MSHR occupancy to rise above the specified level.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="listener">listener<a href="#listener" class="hash-link" aria-label="Direct link to listener" title="Direct link to listener">​</a></h2>
<p>The <code>listener</code> subcomponent is nearly identical to the <code>prefetcher</code> and uses the same <code>CacheListener</code> API. Both subcomponents receive notification of every request handled by the cache. The difference is that while the <code>prefetcher</code> can send requests to the cache, a listener cannot. Listeners can be used to snoop traffic, generate traces, etc. Multiple listeners can be loaded into this slot.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="highlink-and-lowlink">highlink and lowlink<a href="#highlink-and-lowlink" class="hash-link" aria-label="Direct link to highlink and lowlink" title="Direct link to highlink and lowlink">​</a></h2>
<p>The <code>highlink</code> and <code>lowlink</code> subcomponent slots (previously named <code>cpulink</code> and <code>memlink</code>) each load a memory port manager subcomponent that controls how the cache connects to other memory system components. These <em>may</em> be used instead of the <code>highlink</code> and <code>lowlink</code> ports when connecting to another memHierarchy element. They <em>must</em> be used instead of the <code>highlink</code> and <code>lowlink</code> ports when connecting to a network element. Both subcomponent slots use the <code>MemHierarchy::MemLinkBase</code> API. MemHierchy provides three subcomponents that can be loaded into these slots: <code>MemLink</code>, <code>MemNIC</code>, and <code>MemNICFour</code>.</p>
<p><img decoding="async" loading="lazy" alt="Configuring memHierarchy cache links" src="/sst-docs/assets/images/cache_link_config-d06ffc7372a34f268f620f88a72365c2.png" width="3552" height="889" class="img_ev3q"></p>
<p>The picture above shows the different ways to configure these subcomponent slots. A couple things to note:</p>
<ul>
<li>The cache generally expects requests <em><strong>from</strong></em> the <code>highlink</code> and will forward requests that miss in the cache <em><strong>to</strong></em> the <code>lowlink</code>.</li>
<li>&quot;Other Component&quot; means any other memHierarchy component or a non-memHierarchy component that uses the memHierarchy <code>SST::Interfaces::StandardMem</code> interface (<code>memHierarchy.standardInterface</code>). Any time the cache links to one of these, the <code>memHierarchy.MemLink</code> subcomponent may be used. Loading <code>memHierarchy.MemLink</code> into the <code>highlink</code> or <code>lowlink</code> slot is equivalent to connecting the port of the same name.</li>
<li>&quot;Network&quot; means any network model that implements the <code>SST::Interfaces::SimpleNetwork</code> interface. Any time the cache links to other components through a network, the <code>memHierarchy.MemNIC</code> (or <code>memHierarchy.MemNICFour</code>) subcomponent should be used.</li>
<li>MemNIC (and MemNICFour) in turn load subcomponent(s) that implement the <code>SST::Interfaces::SimpleNetwork</code> interface.</li>
<li>If the cache is only connected to other components through a network, put a MemNIC (or MemNICFour) in the <code>highlink</code> slot and leave the <code>lowlink</code> slot empty. Traffic that the cache would have sent to the <code>lowlink</code> will be sent through the <code>highlink</code> subcomponent.</li>
<li>A cache should never use both the <code>highlink</code> port and the <code>highlink</code> subcomponent slot; similarly use only one of <code>lowlink</code> port and <code>lowlink</code> subcomponent slot.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="memlink">MemLink<a href="#memlink" class="hash-link" aria-label="Direct link to MemLink" title="Direct link to MemLink">​</a></h3>
<p>This is the default port manager, and is used when a cache connects directly to another memHierarchy component rather than over a network. Examples include connecting to the memHierarchy interface loaded by a CPU, another cache, or the memHierarchy Bus component.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="memnic">MemNIC<a href="#memnic" class="hash-link" aria-label="Direct link to MemNIC" title="Direct link to MemNIC">​</a></h3>
<p>MemNIC is used when the cache is connected to a network. If the cache has a single connection point into the network, the <code>highlink</code> slot should contain the port manager and the <code>lowlink</code> slot can be left empty.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="memnicfour">MemNICFour<a href="#memnicfour" class="hash-link" aria-label="Direct link to MemNICFour" title="Direct link to MemNICFour">​</a></h3>
<p>Like MemNIC, MemNICFour is used to connect the cache to a network. However, it has four separate ports for different coherence traffic classes (request, data, acknowledgement, forward). MemHierarchy does not require coherence classes to be separated for correctness and so either the MemNIC (single network) or MemNICFour (multiple networks) subcomponent can be used depending on the architecture to be modeled.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/sstsimulator/sst-docs/edit/master/docs/../docs/elements/memHierarchy/cache.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-01-06T21:46:06.000Z" itemprop="dateModified">Jan 6, 2025</time></b> by <b>grvosku</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/sst-docs/docs/elements/memHierarchy/stdmem"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">StandardMem Interface</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/sst-docs/docs/elements/mercury/intro"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">mercury</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#coherence" class="table-of-contents__link toc-highlight">coherence</a></li><li><a href="#replacement" class="table-of-contents__link toc-highlight">replacement</a><ul><li><a href="#replacementlru" class="table-of-contents__link toc-highlight">replacement.lru</a></li><li><a href="#replacementlru-opt" class="table-of-contents__link toc-highlight">replacement.lru-opt</a></li><li><a href="#replacementlfu" class="table-of-contents__link toc-highlight">replacement.lfu</a></li><li><a href="#replacementlfu-opt" class="table-of-contents__link toc-highlight">replacement.lfu-opt</a></li><li><a href="#replacementmru" class="table-of-contents__link toc-highlight">replacement.mru</a></li><li><a href="#replacementmru-opt" class="table-of-contents__link toc-highlight">replacement.mru-opt</a></li><li><a href="#replacementrandom" class="table-of-contents__link toc-highlight">replacement.random</a></li><li><a href="#replacementnmru" class="table-of-contents__link toc-highlight">replacement.nmru</a></li></ul></li><li><a href="#hash" class="table-of-contents__link toc-highlight">hash</a><ul><li><a href="#hashnone" class="table-of-contents__link toc-highlight">hash.none</a></li><li><a href="#hashlinear" class="table-of-contents__link toc-highlight">hash.linear</a></li><li><a href="#hashxor" class="table-of-contents__link toc-highlight">hash.xor</a></li></ul></li><li><a href="#prefetcher" class="table-of-contents__link toc-highlight">prefetcher</a></li><li><a href="#listener" class="table-of-contents__link toc-highlight">listener</a></li><li><a href="#highlink-and-lowlink" class="table-of-contents__link toc-highlight">highlink and lowlink</a><ul><li><a href="#memlink" class="table-of-contents__link toc-highlight">MemLink</a></li><li><a href="#memnic" class="table-of-contents__link toc-highlight">MemNIC</a></li><li><a href="#memnicfour" class="table-of-contents__link toc-highlight">MemNICFour</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/sst-docs/img/sst-logo-small.png" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/sst-docs/img/sst-logo-small.png" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class="footer__copyright">Copyright © 2009-2024 NTESS</div></div></div></footer></div>
</body>
</html>